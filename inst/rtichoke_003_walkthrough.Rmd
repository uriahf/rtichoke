---
title: "rtichoke walkthrough"
subtitle: "0.0.3 Version"  
author: 
  - "Uriah Finkel"
date: '`r Sys.Date()`'
output:
  xaringan::moon_reader:
    css: xaringan-themer.css
    nature:
      slideNumberFormat: "%current%"
      highlightStyle: github
      highlightLines: true
      ratio: 16:9
      countIncrementalSlides: true
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
  fig.width=9, fig.height=3.5, fig.retina=3,
  out.width = "100%",
  cache = FALSE,
  echo = TRUE,
  message = FALSE, 
  warning = FALSE,
  hiline = TRUE
)
```

```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)
library(xaringanExtra)
library(rtichoke)
library(plotly)
library(magrittr)
style_duo_accent(
  primary_color = "#AA4465",
  secondary_color = "#798478",
  inverse_header_color = "#FFFFFF",
  white_color = "#FFFFFF"
)

```


background-image: url("https://idsb.tmgrup.com.tr/ly/uploads/images/2021/07/25/130168.jpg")
background-position: 50% 50%
class: center, bottom, inverse

---
## Agenda

- Presentation of available features in rtichoke 0.0.3

--

- How to use rtichoke

--

## Overview: 

- `rtichoke` is designed to help analysts with exploration of performance metrics with a binary outcome. In order to do so it uses interactive visualization.

---

## Getting Started

### Naming Convention

```{r echo=FALSE}

library(magrittr)

tibble::tribble(~"Output", ~"Predictions and Outcomes", ~"Performance Data",

                "Performance Data", "`prepare_performance_data()`", "",

                "ROC", "`create_roc_curve()`", "`plot_roc_curve()`",

                "Lift", "`create_lift_curve()`", "`plot_lift_curve()`",

                "Gains", "`create_gains_curve()`", "`plot_gains_curve()`",

                "Precision Recall", "`create_precision_recall_curve()`", "`plot_precision_recall_curve()`",

                "Decision", "`create_decision_curve()`", "`plot_decision_curve()`",

                "Calibration", "`create_calibration_curve()`", "",

                "Performance Table", "`create_performance_table()`", "`render_performance_table()`",

                "Summary Report", "`create_summary_report()`", "") %>%

  gt::gt(rowname_col = "Output")   %>%

  gt::fmt_markdown(columns = c("Predictions and Outcomes", "Performance Data"))  %>% 
  gt::tab_style(
    style = list(
      gt::cell_text(weight = "bold")
    ),
    locations = gt::cells_column_labels(dplyr::everything())
  )  %>% 
  gt::opt_table_lines(extent = "default") %>%
  gt::tab_options(
    column_labels.border.top.color = "white",
    column_labels.border.top.width = gt::px(3),
    column_labels.border.bottom.color = "black",
    table_body.hlines.color = "white",
    table.border.bottom.color = "white",
    table.border.bottom.width = gt::px(3)
  )

```

---

## Getting Started
### Curves based on Performance Metrics


```{r echo=FALSE}
tibble::tribble(~"Curve", ~"Sens", ~"Spec", ~"PPV", ~"PPCR", ~"Lift", ~"NB", ~"P. Thr",
                "ROC","y", "x", " ", " ", " ", " ", " ",
                "Lift"," ", " ", " ", "x", "y", " ", " ",
                "Gains"," ", "y", " ", "x", " ", " ", " ",
                "Precision Recall","x", " ", "y", " ", " ", " ", " ",
                "Decision","x", " ", "y", " ", " ", "y", "x") %>%
  gt::gt(rowname_col = "Curve")   %>%
  # 
  # gt::fmt_markdown(columns = c("Sens", "Spec", "PPV", "PPCR", "Lift", "NB", "P. Thr")) %>% 
  # 
  # gt::fmt_markdown(columns = everything()) %>%
  gt::tab_style(
    style = list(
      gt::cell_text(weight = "bold")
    ),
    locations = gt::cells_column_labels(dplyr::everything())
  )  %>%
  gt::opt_table_lines(extent = "default") %>%
  gt::tab_options(
    column_labels.border.top.color = "white",
    column_labels.border.top.width = gt::px(3),
    column_labels.border.bottom.color = "black",
    table_body.hlines.color = "white",
    table.border.bottom.color = "white",
    table.border.bottom.width = gt::px(3)
  ) %>%
  gt::cols_align(
    columns = dplyr::everything(),  
    align = "center"
  ) %>%
  gt::cols_width(
    dplyr::everything() ~ gt::px(100)
  ) 


```

---

### Predictions and Outcomes as input


`rtichoke` is agnostic in a sense that it does not care about the models that were used in order to create the predictions. 

--

Therefore in order to use rtichoke you need to have: 

--
- `probs` 
Estimated Probabilities as predictions: $$0 \leq\hat{p} \leq 1$$.

--
- `real`
Binary Outcomes $$yâˆˆ\{1, 0\}$$.

---

There are 3 different cases and for each one of them rtichoke requires a different kind of input:

